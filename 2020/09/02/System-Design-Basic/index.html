<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>System Design Basic | Ryan&#39;s Blog</title>
  <meta name="keywords" content=" System Design ">
  <meta name="description" content="System Design Basic | Ryan&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Hi, welcome to my blog!">
<meta property="og:type" content="website">
<meta property="og:title" content="about">
<meta property="og:url" content="http://example.com/about/index.html">
<meta property="og:site_name" content="Ryan&#39;s Blog">
<meta property="og:description" content="Hi, welcome to my blog!">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-09-03T07:44:06.000Z">
<meta property="article:modified_time" content="2020-09-03T07:53:31.134Z">
<meta property="article:author" content="Ryan Li">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.1.1"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Ryan Li</span>
</div>

<div class="icon">
    
        
        <a title="github" href="https://github.com/pengyuli" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
        <a title="linkedin" href="https://www.linkedin.com/in/pengyu-li/" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-linkedin"></use>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active" data-rel="All">All<small>(2)</small></div></li>
    
        
            
            <li><div data-rel="SystemDesign">SystemDesign<small>(2)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">About</a><a style="width: 50%"  class="friends">Friends</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="2">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>System Design</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a  class="All SystemDesign "
           href="/2020/09/02/Long-polling-WebSockets-and-Server-Sent-Events/"
           data-tag="System Design"
           data-author="" >
            <span class="post-title" title="Long polling, WebSockets, and Server-Sent Events">Long polling, WebSockets, and Server-Sent Events</span>
            <span class="post-date" title="2020-09-02 23:38:57">2020/09/02</span>
        </a>
        
        <a  class="All SystemDesign "
           href="/2020/09/02/System-Design-Basic/"
           data-tag="System Design"
           data-author="" >
            <span class="post-title" title="System Design Basic">System Design Basic</span>
            <span class="post-date" title="2020-09-02 23:32:31">2020/09/02</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-System-Design-Basic" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">System Design Basic</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="SystemDesign">SystemDesign</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color4">System Design</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2020-09-03 00:53:31'>2020-09-02 23:32</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            Views 👀 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Scalability"><span class="toc-text">Scalability</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Efficiency"><span class="toc-text">Efficiency</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Load-Balancing"><span class="toc-text">Load Balancing</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Key-functions"><span class="toc-text">Key functions:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LB-Algorithms"><span class="toc-text">LB Algorithms</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Redundant-Load-Balancers"><span class="toc-text">Redundant Load Balancers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#L4-Load-Balancer"><span class="toc-text">L4 Load Balancer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#L7-Load-Balancer"><span class="toc-text">L7 Load Balancer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Data-Partitioning"><span class="toc-text">Data Partitioning</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Partitioning-Method"><span class="toc-text">Partitioning Method</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Horizontal-partitioning"><span class="toc-text">Horizontal partitioning</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vertical-Partitioning"><span class="toc-text">Vertical Partitioning</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Directory-Based-Partitioning"><span class="toc-text">Directory Based Partitioning</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Common-Problems-of-Data-Partitioning"><span class="toc-text">Common Problems of Data Partitioning</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Joins"><span class="toc-text">Joins</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Referential-integrity"><span class="toc-text">Referential integrity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Rebalancing"><span class="toc-text">Rebalancing</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-VS-NOSQL"><span class="toc-text">SQL VS NOSQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL"><span class="toc-text">SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NOSQL"><span class="toc-text">NOSQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#High-level-differences-between-SQL-and-NoSQL"><span class="toc-text">High level differences between SQL and NoSQL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Storage"><span class="toc-text">Storage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Schema"><span class="toc-text">Schema</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scalability-1"><span class="toc-text">Scalability</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Reliability-or-ACID-Compliancy"><span class="toc-text">Reliability or ACID Compliancy</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reason-to-use-SQL"><span class="toc-text">Reason to use SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reason-to-use-NOSQL"><span class="toc-text">Reason to use NOSQL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Sample-data-well-suited-for-NoSQL"><span class="toc-text">Sample data well-suited for NoSQL:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Consistent-Hashing"><span class="toc-text">Consistent Hashing</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-consistent-Hashing"><span class="toc-text">Why consistent Hashing</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Scalability"><a href="#Scalability" class="headerlink" title="Scalability"></a>Scalability</h3><p>Horizontal: scale by adding more servers into your pool of resources</p>
<p>Vertical scaling: scale by adding more power (CPU, RAM, Storage, etc.) to an existing server.</p>
<h3 id="Efficiency"><a href="#Efficiency" class="headerlink" title="Efficiency"></a>Efficiency</h3><p>Two standard measures of its efficiency are the:</p>
<ol>
<li>response time (or latency) denotes the delay to obtain the first item</li>
<li>throughput (or bandwidth) which denotes the number of items delivered in a given time unit (e.g., a second). </li>
</ol>
<h2 id="Load-Balancing"><a href="#Load-Balancing" class="headerlink" title="Load Balancing"></a>Load Balancing</h2><h4 id="Key-functions"><a href="#Key-functions" class="headerlink" title="Key functions:"></a>Key functions:</h4><ol>
<li>It helps to spread the traffic across a cluster of servers to improve responsiveness and availability of applications, websites or databases. </li>
<li>keeps track of the status of all the resources while distributing requests. If a server is not available to take new requests or is not responding or has elevated error rate, LB will stop sending traffic to such a server.</li>
</ol>
<h3 id="LB-Algorithms"><a href="#LB-Algorithms" class="headerlink" title="LB Algorithms"></a>LB Algorithms</h3><ul>
<li>Least Connection Method — This method directs traffic to the server with the fewest active connections. This approach is quite useful when there are a large number of persistent client connections which are unevenly distributed between the servers.</li>
<li>Least Response Time Method — This algorithm directs traffic to the server with the fewest active connections and the lowest average response time.</li>
<li>Least Bandwidth Method - This method selects the server that is currently serving the least amount of traffic measured in megabits per second (Mbps).</li>
<li>Round Robin Method — This method cycles through a list of servers and sends each new request to the next server. When it reaches the end of the list, it starts over at the beginning. It is most useful when the servers are of equal specification and there are not many persistent connections.</li>
<li>Weighted Round Robin Method — The weighted round-robin scheduling is designed to better handle servers with different processing capacities. Each server is assigned a weight (an integer value that indicates the processing capacity). Servers with higher weights receive new connections before those with less weights and servers with higher weights get more connections than those with less weights.</li>
<li>IP Hash — Under this method, a hash of the IP address of the client is calculated to redirect the request to a server.</li>
</ul>
<h3 id="Redundant-Load-Balancers"><a href="#Redundant-Load-Balancers" class="headerlink" title="Redundant Load Balancers"></a>Redundant Load Balancers</h3><p>The load balancer can be a single point of failure; to overcome this, a second load balancer can be connected to the first to form a cluster. Each LB monitors the health of the other and, since both of them are equally capable of serving traffic and failure detection, in the event the main load balancer fails, the second load balancer takes over.</p>
<h3 id="L4-Load-Balancer"><a href="#L4-Load-Balancer" class="headerlink" title="L4 Load Balancer"></a>L4 Load Balancer</h3><p>Layer 4 load balancing (TCP layer)<br>L4 as the name suggests works on Layer4 (and Layer3) of the OSI model. When a client makes a request, it creates a TCP connection with the load balancer. The Load Balancer then uses the same TCP connection that the client created with it, to connect with one of the upstream servers.</p>
<p>The source and destination IP of each packet is changed by the load balancer using <strong>NAT</strong> (Network address translation).</p>
<p>When a response is received from the server, the same translation is performed again at the load balancer.</p>
<h3 id="L7-Load-Balancer"><a href="#L7-Load-Balancer" class="headerlink" title="L7 Load Balancer"></a>L7 Load Balancer</h3><p>L7 as the name suggests works on Layer7 (Layer6 and Layer5) of the OSI model. When a client makes a request, it creates a TCP connection with the load balancer. The Load Balancer then creates a new TCP connection with one of the upstream servers. Thus, there are 2 TCP connections as compared to 1 in a TCP/UDP passthrough L4 Load balancer.</p>
<p>Since we are at layer7, we are aware of the data in our request. This allows us to perform a variety of operations like</p>
<ul>
<li>Authentication — 401 if some header is not present</li>
<li>Smart Routing — Route /payments call to a particular upstream</li>
<li>TLS termination</li>
</ul>
<p>Layer 7 load balancers look at the application layer to decide how to distribute requests. This can involve contents of the header, message, and cookies. Layer 7 load balancers terminate network traffic, reads the message, makes a load-balancing decision, then opens a connection to the selected server. For example, a layer 7 load balancer can direct video traffic to servers that host videos while directing more sensitive user billing traffic to security-hardened servers.</p>
<h2 id="Data-Partitioning"><a href="#Data-Partitioning" class="headerlink" title="Data Partitioning"></a>Data Partitioning</h2><h3 id="Partitioning-Method"><a href="#Partitioning-Method" class="headerlink" title="Partitioning Method"></a>Partitioning Method</h3><h4 id="Horizontal-partitioning"><a href="#Horizontal-partitioning" class="headerlink" title="Horizontal partitioning"></a>Horizontal partitioning</h4><p>In this scheme, we put different rows into different tables. </p>
<p>E.g. For example, if we are storing different places in a table, we can decide that locations with ZIP codes less than 10000 are stored in one table and places with ZIP codes greater than 10000 are stored in a separate table. This is also called a range based partitioning as we are storing different ranges of data in separate tables.</p>
<p>Cons: Need to choose the range of partition carefully or can cause unbalance traffic to tables </p>
<h4 id="Vertical-Partitioning"><a href="#Vertical-Partitioning" class="headerlink" title="Vertical Partitioning"></a>Vertical Partitioning</h4><p>we divide our data to store tables related to a specific feature in their own server. For example, if we are building Instagram like application - where we need to store data related to users, photos they upload, and people they follow - we can decide to place user profile information on one DB server, friend lists on another, and photos on a third server.</p>
<p>Cons: if our application experiences additional growth, then it may be necessary to further partition a feature specific DB across various servers (e.g. it would not be possible for a single server to handle all the metadata queries for 10 billion photos by 140 million users).</p>
<h4 id="Directory-Based-Partitioning"><a href="#Directory-Based-Partitioning" class="headerlink" title="Directory Based Partitioning"></a>Directory Based Partitioning</h4><p>A loosely coupled approach to work around issues mentioned in the above schemes is to create a lookup service which knows your current partitioning scheme and abstracts it away from the DB access code. So, to find out where a particular data entity resides, we query the directory server that holds the mapping between each tuple key to its DB server. This loosely coupled approach means we can perform tasks like adding servers to the DB pool or changing our partitioning scheme without having an impact on the application.</p>
<h3 id="Common-Problems-of-Data-Partitioning"><a href="#Common-Problems-of-Data-Partitioning" class="headerlink" title="Common Problems of Data Partitioning"></a>Common Problems of Data Partitioning</h3><h3 id="Joins"><a href="#Joins" class="headerlink" title="Joins"></a>Joins</h3><p>joins will not be performance efficient since data has to be compiled from multiple servers. </p>
<p>A common workaround for this problem is to denormalize the database so that queries that previously required joins can be performed from a single table.  </p>
<h3 id="Referential-integrity"><a href="#Referential-integrity" class="headerlink" title="Referential integrity"></a>Referential integrity</h3><p>trying to enforce data integrity constraints such as foreign keys in a partitioned database can be extremely difficult.</p>
<h3 id="Rebalancing"><a href="#Rebalancing" class="headerlink" title="Rebalancing"></a>Rebalancing</h3><p>There could be many reasons we have to change our partitioning scheme</p>
<h2 id="SQL-VS-NOSQL"><a href="#SQL-VS-NOSQL" class="headerlink" title="SQL VS NOSQL"></a>SQL VS NOSQL</h2><h3 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h3><p>Relational databases store data in rows and columns. Each row contains all the information about one entity </p>
<h3 id="NOSQL"><a href="#NOSQL" class="headerlink" title="NOSQL"></a>NOSQL</h3><ul>
<li>Key-Value Stores: Data is stored in an array of key-value pairs. Well-known key-value stores include <strong>Redis</strong>, Voldemort, and <strong>Dynamo</strong>.</li>
<li>Document Databases: In these databases, data is stored in documents (instead of rows and columns in a table) and these documents are grouped together in collections. Document databases include the CouchDB and <strong>MongoDB</strong>.</li>
<li>Wide-Column Databases: Instead of ‘tables,’ in columnar databases we have column families, which are containers for rows. Unlike relational databases, we don’t need to know all the columns up front and each row doesn’t have to have the same number of columns. Columnar databases are best suited for analyzing large datasets - big names include <strong>Cassandra</strong> and <strong>HBase</strong>.</li>
<li>Graph Databases: These databases are used to store data whose relations are best represented in a graph. </li>
</ul>
<h3 id="High-level-differences-between-SQL-and-NoSQL"><a href="#High-level-differences-between-SQL-and-NoSQL" class="headerlink" title="High level differences between SQL and NoSQL"></a>High level differences between SQL and NoSQL</h3><h4 id="Storage"><a href="#Storage" class="headerlink" title="Storage"></a>Storage</h4><p>SQL stores data in tables where each row represents an entity and each column represents a data point about that entity; for example, if we are storing a car entity in a table, different columns could be ‘Color’, ‘Make’, ‘Model’, and so on.</p>
<p>NoSQL databases have different data storage models. The main ones are key-value, document, graph, and columnar. We will discuss differences between these databases below.</p>
<h4 id="Schema"><a href="#Schema" class="headerlink" title="Schema"></a>Schema</h4><p> In SQL, each record conforms to a fixed schema, meaning the columns must be decided and chosen before data entry and each row must have data for each column. The schema can be altered later, but it involves modifying the whole database and going offline.</p>
<p>In NoSQL, schemas are dynamic. Columns can be added on the fly and each ‘row’ (or equivalent) doesn’t have to contain data for each ‘column.’</p>
<h4 id="Scalability-1"><a href="#Scalability-1" class="headerlink" title="Scalability"></a>Scalability</h4><p>In most common situations, SQL databases are vertically scalable, i.e., by increasing the horsepower (higher Memory, CPU, etc.) of the hardware。</p>
<p>On the other hand, NoSQL databases are horizontally scalable, meaning we can add more servers easily in our NoSQL database infrastructure to handle a lot of traffic. </p>
<h4 id="Reliability-or-ACID-Compliancy"><a href="#Reliability-or-ACID-Compliancy" class="headerlink" title="Reliability or ACID Compliancy"></a>Reliability or ACID Compliancy</h4><p>The vast majority of relational databases are ACID compliant. So, when it comes to data reliability and safe guarantee of performing transactions, SQL databases are still the better bet.</p>
<p>Most of the NoSQL solutions sacrifice ACID compliance for performance and scalability.</p>
<h3 id="Reason-to-use-SQL"><a href="#Reason-to-use-SQL" class="headerlink" title="Reason to use SQL"></a>Reason to use SQL</h3><ol>
<li>We need to ensure ACID compliance. ACID compliance reduces anomalies and protects the integrity of your database by prescribing exactly how transactions interact with the database.</li>
<li>Your data is structured and unchanging. If your business is not experiencing <strong>massive growth</strong> that would require more servers and if you’re only working with data that is consistent,</li>
</ol>
<ul>
<li>Structured data</li>
<li>Strict schema</li>
<li>Relational data</li>
<li>Need for complex joins</li>
<li>Transactions</li>
<li>Clear patterns for scaling</li>
<li>More established: developers, community, code, tools, etc</li>
<li>Lookups by index are very fast</li>
</ul>
<h3 id="Reason-to-use-NOSQL"><a href="#Reason-to-use-NOSQL" class="headerlink" title="Reason to use NOSQL"></a>Reason to use NOSQL</h3><ol>
<li>Storing large volumes of data that often have little to no structure</li>
<li>Rapid development. NoSQL is extremely useful for rapid development as it doesn’t need to be prepped ahead of time</li>
</ol>
<ul>
<li>Semi-structured data</li>
<li>Dynamic or flexible schema</li>
<li>Non-relational data</li>
<li>No need for complex joins</li>
<li>Store many TB (or PB) of data</li>
<li>Very data intensive workload</li>
<li>Very high throughput for IOPS</li>
</ul>
<h4 id="Sample-data-well-suited-for-NoSQL"><a href="#Sample-data-well-suited-for-NoSQL" class="headerlink" title="Sample data well-suited for NoSQL:"></a>Sample data well-suited for NoSQL:</h4><ul>
<li>Rapid ingest of clickstream and log data</li>
<li>Leaderboard or scoring data</li>
<li>Temporary data, such as a shopping cart</li>
<li>Frequently accessed (‘hot’) tables</li>
<li>Metadata/lookup tables</li>
</ul>
<h2 id="Consistent-Hashing"><a href="#Consistent-Hashing" class="headerlink" title="Consistent Hashing"></a>Consistent Hashing</h2><h3 id="Why-consistent-Hashing"><a href="#Why-consistent-Hashing" class="headerlink" title="Why consistent Hashing"></a>Why consistent Hashing</h3><ol>
<li>Normal hashing is NOT horizontally scalable when using in Distribute cache</li>
<li>Normal hashing is NOT load balanced, especially for non-uniformly distributed data</li>
</ol>

      
       
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">💰</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2016-2020 Yelog
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
